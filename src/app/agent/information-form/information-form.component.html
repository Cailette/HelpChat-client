<div class="row justify-content-center align-items-center">
    <div class="jumbotron bg-light w-md-50">
        <h1 class="h2">{{ isAdding? "Dodaj konsultanta" : "Edytuj dane"}}</h1>
        <p class="lead">{{ isAdding? "Wprowadź dane i zatwierdź przyciskiem 'Dodaj'" : "Wprowadź zmiany i zatwierdź przyciskiem 'Zapisz'"}}</p>
        
        <hr class="my-4">

        <div *ngIf="isEmailError" class="row justify-content-center align-items-center">
            <div class="alert alert-warning">
                Email jest już zajęty.
            </div>
        </div>

        <form class="form" #editForm="ngForm" (ngSubmit)="OnSubmit(editForm)">
            <div class="form-group mt-2">
                <label for="firstname" class="text-primary">Imię{{ isAdding? "*" : ""}}:</label>
                <input type="text" name="firstname" id="firstname" class="form-control validate" #firstname="ngModel" [attr.required]="isAdding" [(ngModel)]="user.firstname" [pattern]="firstnamePattern">
                <label *ngIf="firstname.invalid && (firstname.dirty || firstname.touched)" class="alert alert-warning mt-2 p-2" data-error="">Imię to ciąg maksymalnie 20 znaków.</label>
            </div>
            <div class="form-group mt-2">
                <label for="lastname" class="text-primary">Nazwisko{{ isAdding? "*" : ""}}:</label>
                <input type="text" name="lastname" id="lastname" class="form-control validate" #lastname="ngModel" [attr.required]="isAdding" [(ngModel)]="user.lastname" [pattern]="lastnamePattern">
                <label *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="alert alert-warning mt-2 p-2" data-error="">Nazwisko to ciąg maksymalnie 20 znaków.</label>
            </div>
            <div class="form-group mt-2">
                <label for="email" class="text-primary">Email{{ isAdding? "*" : ""}}:</label>
                <input type="email" name="email" id="email" class="form-control validate" #email="ngModel" [attr.required]="isAdding" [(ngModel)]="user.email" [pattern]="emailPattern">
                <label *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-warning mt-2 p-2" data-error="">Email to maksymalnie 60 znaków i zachowywać format emaila.</label>
            </div>
            <div class="form-group mt-2">
                <label for="password" class="text-primary">Hasło{{ isAdding? "*" : ""}}:</label>
                <input type="password" name="password" id="password" class="form-control validate" #password="ngModel" [attr.required]="isAdding" [(ngModel)]="user.password" [pattern]="passwordPattern">
                <label *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-warning mt-2 p-2" data-error="">Hasło znaków musi zawierać co najmniej jedną cyfrę, jedną małą literę oraz jedną dużą literę oraz od 6 do 30.</label>
            </div>
            <div class="form-group mt-2">
                <label for="repassword" class="text-primary">Powtórz hasło{{ isAdding? "*" : ""}}:</label>
                <input type="password" name="repassword" id="repassword" class="form-control validate" #repassword="ngModel" [attr.required]="isAdding" [(ngModel)]="user.repassword">
                <label *ngIf="password.value !== repassword.value && (repassword.dirty || repassword.touched)"  class="alert alert-warning mt-2 p-2" data-error="">Powtórzone hasło musi być identyczne jak hasło.</label>
            </div>
            
            <div *ngIf="isAdding"  class="alert alert-info mt-2 p-2">
                * Wszystkie pola są wymagane.
            </div>

            <div class="col-16 my-3 text-center">
                <button [disabled]="!editForm.valid" type="submit" class="btn btn-primary ml-4">{{ isAdding? "Dodaj" : "Zapisz" }}</button>
                <button type="button" class="btn btn-outline-secondary ml-4" (click)="close()">Zamknij</button>
            </div>
        </form>
    </div>  
</div>